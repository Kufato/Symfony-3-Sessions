{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block content %}
    <div style="max-width:800px; margin:0 auto; display:flex; flex-direction:column; gap:1.5rem;">

        <h2>üìù Latest Posts</h2>

        {% if app.user %}
            <a href="{{ path('e03_new') }}" style="
                align-self:flex-start;
                background:#28a745;
                color:white;
                padding:0.5rem 1.5rem;
                border-radius:0.5rem;
                text-decoration:none;">
                New Post
            </a>
        {% endif %}

        {% for post in posts %}
            <div style="padding:1rem; border:1px solid #ddd; border-radius:0.5rem;">
                <h3>
                    <a href="{{ path('e03_show', {id: post.id}) }}">
                        {{ post.title }}
                    </a>
                </h3>
                <small>
                    By {{ post.author.username }} ‚Ä¢ {{ post.createdAt|date('d/m/Y H:i') }}
                </small>
            </div>
        {% else %}
            <p>No posts yet.</p>
        {% endfor %}
    </div>
{% endblock %}