{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block content %}
    <div style="
        display:flex;
        flex-direction:column;
        justify-content:center;
        align-items:center;
        min-height:60vh;
        gap:1.5rem;
        text-align:center;
    ">

        {% if app.user %}
            <h2>
                Welcome
                <span class="rainbow-text">{{ app.user.username }}</span>
                ðŸ‘‹
            </h2>

            {% if is_granted('ROLE_ADMIN') %}
                <a href="{{ path('e02_admin') }}" style="
                    background:#6f42c1;
                    color:#fff;
                    padding:0.75rem 2rem;
                    border-radius:0.75rem;
                    text-decoration:none;
                    font-size:1.1rem;
                    transition:0.2s;
                " onmouseover="this.style.background='#59339d'"
                onmouseout="this.style.background='#6f42c1'">
                    Admin Panel
                </a>
            {% endif %}

            <form method="post" action="{{ path('app_logout') }}">
                <button type="submit" style="
                    background:#dc3545;
                    color:#fff;
                    border:none;
                    padding:0.6rem 1.8rem;
                    border-radius:0.6rem;
                    font-size:1rem;
                    cursor:pointer;
                ">
                    Logout
                </button>
            </form>

        {% else %}
            <h2>Welcome on the home page</h2>

            <div style="display:flex; gap:1rem;">
                <a href="{{ path('app_registration') }}" style="
                    background:#28a745;
                    color:#fff;
                    padding:0.6rem 1.6rem;
                    border-radius:0.6rem;
                    text-decoration:none;
                ">
                    Register
                </a>

                <a href="{{ path('app_login') }}" style="
                    background:#007bff;
                    color:#fff;
                    padding:0.6rem 1.6rem;
                    border-radius:0.6rem;
                    text-decoration:none;
                ">
                    Login
                </a>
            </div>
        {% endif %}

    </div>
{% endblock %}